#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 508
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass scrbook
\begin_preamble
% increases link area for cross-references and autoname them
% if you change the document language to e.g. French
% you must change "extrasenglish" to "extrasfrench"
\AtBeginDocument{%
 \renewcommand{\ref}[1]{\mbox{\autoref{#1}}}
}
\def\refnamechanges{%
 \renewcommand*{\equationautorefname}[1]{}
 \renewcommand{\sectionautorefname}{sec.\negthinspace}
 \renewcommand{\subsectionautorefname}{sec.\negthinspace}
 \renewcommand{\subsubsectionautorefname}{sec.\negthinspace}
 \renewcommand{\figureautorefname}{Fig.\negthinspace}
 \renewcommand{\tableautorefname}{Tab.\negthinspace}
}
\@ifpackageloaded{babel}{\addto\extrasenglish{\refnamechanges}}{\refnamechanges}

% in case somebody want to have the label "Equation"
%\renewcommand{\eqref}[1]{Equation~(\negthinspace\autoref{#1})}

% that links to image floats jumps to the beginning
% of the float and not to its caption
\usepackage[figure]{hypcap}

% the pages of the TOC is numbered roman
% and a pdf-bookmark for the TOC is added
\let\myTOC\tableofcontents
\renewcommand\tableofcontents{%
  \frontmatter
  \pdfbookmark[1]{\contentsname}{}
  \myTOC
  \mainmatter }

% makes caption labels bold
% for more info about these settings, see
% http://mirrors.ctan.org/macros/latex/contrib/koma-script/doc/scrguien.pdf
\setkomafont{captionlabel}{\bfseries}
\setcapindent{1em}

% enables calculations
\usepackage{calc}

% fancy page header/footer settings
% for more information see section 9 of
% ftp://www.ctan.org/pub/tex-archive/macros/latex2e/contrib/fancyhdr/fancyhdr.pdf
\renewcommand{\chaptermark}[1]{\markboth{#1}{#1}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}

% increases the bottom float placement fraction
\renewcommand{\bottomfraction}{0.5}

% avoids that floats are placed above its sections
\let\mySection\section\renewcommand{\section}{\suppressfloats[t]\mySection}
\end_preamble
\options intoc,bibliography=totoc,index=totoc,BCOR10mm,captions=tableheading,titlepage,fleqn
\use_default_options true
\master MasterThesisTemplate.lyx
\begin_modules
customHeadersFooters
\end_modules
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "lmodern" "default"
\font_sans "lmss" "default"
\font_typewriter "lmtt" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\float_placement h
\paperfontsize 12
\spacing single
\use_hyperref true
\pdf_title "Your title"
\pdf_author "Your name"
\pdf_bookmarks true
\pdf_bookmarksnumbered true
\pdf_bookmarksopen true
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder true
\pdf_colorlinks false
\pdf_backref false
\pdf_pdfusetitle false
\pdf_quoted_options "pdfpagelayout=OneColumn, pdfnewwindow=true, pdfstartview=XYZ, plainpages=false"
\papersize a4paper
\use_geometry false
\use_package amsmath 2
\use_package amssymb 2
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine natbib
\cite_engine_type authoryear
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 0
\branch NoChildDocument
\selected 0
\filename_suffix 0
\color #ff0000
\end_branch
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 2
\paragraph_separation skip
\defskip medskip
\quotes_language english
\papercolumns 1
\papersides 2
\paperpagestyle fancy
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Left Header
\begin_inset Argument 1
status open

\begin_layout Plain Layout
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
chaptername
\end_layout

\end_inset


\begin_inset space ~
\end_inset


\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
thechapter
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
rightmark
\end_layout

\end_inset


\begin_inset Note Note
status collapsed

\begin_layout Plain Layout
Enable page headers and add the chapter to the header line.
\end_layout

\end_inset


\end_layout

\begin_layout Right Header
\begin_inset Argument 1
status open

\begin_layout Plain Layout
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
leftmark
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Left Footer
\begin_inset Argument 1
status open

\begin_layout Plain Layout
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
thepage
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Center Footer

\end_layout

\begin_layout Right Footer
\begin_inset Argument 1
status open

\begin_layout Plain Layout

\end_layout

\end_inset


\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
thepage
\end_layout

\end_inset


\end_layout

\begin_layout Chapter
Software
\end_layout

\begin_layout Standard
Both R and Python are powerful programming language for data analysis.
 Python has been known as a general purpose language with an easy to understand
 syntax.
 It emphasizes on code readability and has a gentle learning curve.
 R is developed by and for statistician.
 It provides a huge number of essential packages in statistics, and even
 starts to expand to different fields.
 R also has a strong reputation for data visualization.
 However, in terms of computation, R still cannot compete with Python which
 is built specifically for computer programming.
\end_layout

\begin_layout Standard
With strengths and weaknesses between R and Python described earlier, R
 is chosen to be used in this study.
 It offers more implemented algorithms to solve the problem at hand.
 Moreover, effective visualization helps analyst and user to understand
 more about their data especially for the complex one.
 Visualizing data is useful in many ways such as uncover new patterns, identify
 some factors, and get an overall trend.
 R proves itself a good choice since it provides a great feature in creating
 an interactive graphic and visualization.
\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
Rewrite!!!!!!!!!!
\end_layout

\end_inset


\end_layout

\begin_layout Chapter
MSwM Package
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
You may want to include an appendix to describe the software used in the
 thesis.
 You can also include CONCISE documentation of your own code.
 Do not include page up and down with code, but maybe a list of functions
 and objects, and a short description of what each function does and the
 properties of objects.
 Ideally, you could post your code online (github is a popular place) and
 link to it from here.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The algorithm used for fitting the Markov switching autoregressive model
 is mainly based on the MSwM package in R 
\begin_inset CommandInset citation
LatexCommand citep
key "mswm"

\end_inset

.
 This package performs an univariate autoregressive Markov switching model
 for linear and generalized models.
 The package implemented the Expectation-Maximization (E-M) algorithm to
 fit the Markov switching model.
 
\end_layout

\begin_layout Standard
Code is further implemented in order to properly deal with the problem and
 the given data.
 Some modifications have been made in the function to handle errors and
 warnings produced when fitting the model.
 These are described in more details here.
\end_layout

\begin_layout Standard
when setting variance to have a non-switching effect, the function generates
 a warning.
 It proved that there is a minor mistake in the code.
 
\end_layout

\begin_layout Standard
Furthermore, the package uses a Hessian, the matrix of second order partial
 derivatives with respect to parameters, for numerical optimization.
 In some cases, Hessian matrix will not be invertible as the matrix is singulari
ty.
 Consequently, the function can not compute standard error of estimated
 parameters.
 This non-invertible Hessian is solved by using generalized inverse (or
 pseudoinverse) procedure 
\begin_inset CommandInset citation
LatexCommand citep
key "gill2004your"

\end_inset

.
 
\end_layout

\begin_layout Standard
Apparently, the package does not work well with categorical predictor variables.
 Hence, a further implementation in the code for handling with categorical
 variables is done.
 
\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
reference level to be the highest occurrence
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Another error in the package occurs when any initial coefficients from the
 model are NAs.
 A function will first randomly divide data into different subsets and separatel
y fit the model to get initial coefficients in each state.
 Sometime a variable in a subset will have the same value in all observations.
 Then, NA coefficient is generated because of singularity.
 The solution is to reshuffle data and fit the model until there is no NA
 as coefficient.
 For a categorical variable, it is rather difficult for every subset to
 contain all levels of variable.
 As a result, the model generates an NA coefficient for that particular
 variable.
 It is worth noting that the function computes conditional means for each
 state by multiplying data with coefficient matrix.
 Therefore, if NAs exist in the coefficient matrix, these conditional means
 will also become NAs.
 This issue is resolved by first removing any variables which have NAs coefficie
nt from the coefficient matrix and later on performing matrix multiplication.
 
\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
Rewrite the NAs coefficients problem
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Branch NoChildDocument
status collapsed

\begin_layout Standard
\begin_inset CommandInset bibtex
LatexCommand bibtex
bibfiles "biblio/Plasma"
options "biblio/alpha"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset nomencl_print
LatexCommand printnomenclature
set_width "custom"
width "2.5cm"

\end_inset


\end_layout

\end_inset


\end_layout

\end_body
\end_document
